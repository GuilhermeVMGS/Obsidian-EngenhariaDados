
O otimizador de consultas (Query Optimizer) é considerado o cérebro do SQL Server. É ele quem transforma o nosso script em um plano de execução.

1. **O Otimizador - Um Modelo Baseado em Custo:** o SQL Server usa um otimizador. Ele não testa todas as possibilidades fisicamente, ele faz cálculos matemáticos baseados em estatísticas.
* *Estastísticas:* o SQL guarda metadados sobre as tabelas (quantas linhas existem, quais valores são mais comuns). Se as estatísticas estiverem desatualizadas, o otimizador vai entender que o caminho está vazio quando na verdade está engarrafado, e escolherá o caminho errado
* *"Bom o Suficiente":* ele não busca o plano perfeito (levaria horas de processamento), mas sim o plano mais eficiente em menos tempo. Por exemplo, se ele levar 10 segundos para achar um plano que economiza 1 segundo de execução, não valeu a pena.